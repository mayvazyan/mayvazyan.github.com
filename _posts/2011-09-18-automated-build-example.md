---
layout: post
title: Automated Build Usage Example
date: 2011-09-18 17:56
author: ayvazyan
comments: true
categories: [.NET, Continuous Integration]
---
<h2>A problem</h2>  <p>Do you have a manager on a project? Does (s)he use Visual Studio to review new versions?</p>  <p>For me the answer was <em>Yes </em>for the both above questions on the last project I was involved on. </p>  <p>It’s a real pain to start Visual Studio just to build an run application, isn’t it? I think so, since to be honest it will take a while… </p>  <ul>   <li>Wait Visual Studio to be started</li>    <li>Get latest source code </li>    <li>Wait until Visual Studio will load a project</li>    <li>And finally we need to build a project.</li> </ul><!--more--><h2>A solution</h2>  <p>You know I think it’s not fair to ask manager to do all of this… <img style="border-bottom-style: none; border-right-style: none; border-top-style: none; border-left-style: none" class="wlEmoticon wlEmoticon-smile" alt="Smile" src="http://ayvazyan.net/wp-content/uploads/2011/09/wlEmoticon-smile.png" /></p>  <p>There are several ways to simplify our Project Manager’s life. In case if you are using Continuous Integration (CI) the solution is simple – manager can just download latest version from the CI server. So (s)he will just download a build, unpack it and that’s it – (s)he ready to start app! Sure as further improvement we can create a batch file which will automate above 3 steps. Since it would be much easier to just run one single batch file and see application running.</p>  <p>But what if you don’t use CI currently? Yes we all now that we Should use CI, but sometimes we just can’t. But we always can add <strong>Automated Build Script</strong> to our solution. And we will be able to provide the same “Click Once” approach as in case of the CI server in charge.</p>  <h3></h3>  <h2>Example</h2>  <p>Let’s assume that we use SVN as a source control. And we have MSBuild build script which can</p>  <ul>   <li>Build project</li>    <li>Run tests</li>    <li>Start application</li> </ul>  <p>In that case all we need is the following simple Batch file:</p> <script src="http://pastebin.com/embed_js.php?i=xnnM7iQX"></script>  <h2>Tiny Explanation</h2>  <p>I think it’s pretty straightforward but here’s some notes.</p>  <ul>   <li>BUILD_FILE_NAME_GOES_HERE – is a placeholder for the actual build script. For example <em>HelloWorld.build</em></li>    <li>TARGET_GOES_HERE – is a placeholder for the Target which will build project, run tests and then start application</li> </ul>  <p>Above build script will silently try to get latest source code using TortoiseProc (a part of the TortoiseSVN) in case if it installed. In other case source code should be updated manually. Actually this part could be improved in many ways. For example we could check if SVN console client is installed.</p>  <p>After than build script will check if it able to locate MSBuild and if yes it will run it.</p>
